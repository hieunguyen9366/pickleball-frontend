<div class="payment-settings-page">
  <div class="container-fluid">
    <div class="row" *ngIf="isLoading && !settings">
      <div class="col-12">
        <div class="text-center py-5">
          <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Đang tải...</span>
          </div>
          <p class="text-muted mt-3 mb-0">Đang tải cấu hình...</p>
        </div>
      </div>
    </div>

    <div class="row" *ngIf="error && !isLoading">
      <div class="col-12">
        <div class="alert alert-danger">{{ error }}</div>
      </div>
    </div>

    <div class="row" *ngIf="!isLoading && settings">
      <div class="col-12">
        <app-card cardTitle="Cấu hình Phương thức Thanh toán" [padding]="0">
          <div class="p-3">
            <div class="mb-4">
              <p class="text-muted">Bật/tắt các phương thức thanh toán có sẵn trong hệ thống.</p>
            </div>

            <div class="list-group">
              <div class="list-group-item" *ngFor="let method of paymentMethods">
                <div class="d-flex justify-content-between align-items-center">
                  <div class="flex-grow-1">
                    <h6 class="mb-1">{{ method.displayName }}</h6>
                    <small class="text-muted">{{ method.description }}</small>
                  </div>
                  <div class="form-check form-switch">
                    <input class="form-check-input" type="checkbox" 
                           [(ngModel)]="method.enabled"
                           [id]="'method-' + method.method">
                    <label class="form-check-label" [for]="'method-' + method.method">
                      <span [class]="method.enabled ? 'badge bg-success' : 'badge bg-secondary'">
                        {{ method.enabled ? 'Bật' : 'Tắt' }}
                      </span>
                    </label>
                  </div>
                </div>
              </div>
            </div>

            <div class="alert alert-warning mt-4">
              <strong>Lưu ý:</strong> Khi tắt một phương thức thanh toán, người chơi sẽ không thể sử dụng phương thức đó khi đặt sân.
            </div>

            <div class="d-flex justify-content-end mt-4">
              <button type="button" class="btn btn-primary" (click)="save()" [disabled]="isSaving">
                <i antIcon type="save" theme="outline" class="me-1"></i>
                {{ isSaving ? 'Đang lưu...' : 'Lưu cấu hình' }}
              </button>
            </div>
          </div>
        </app-card>
      </div>
    </div>
  </div>
</div>



